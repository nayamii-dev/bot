// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model stats {
  model_id String   @id @default(auto()) @map("_id") @db.ObjectId
  data     StatData @map("stat_data")
}

type StatData {
  statId      String @default(uuid()) @map("stat_id")
  memoryusage Int    @map("memory_usage")
  maxMemory   Int    @map("total_memory")
}

model guildSettings {
  model_id String @id @default(auto()) @map("_id") @db.ObjectId
  guildId  String @map("guild_id")
  prefix   String @default("-")

  @@index([guildId])
  @@map("guild_settings")
}

model guildCommands {
  model_id  String @id @default(auto()) @map("_id") @db.ObjectId
  guildId   String @map("guild_id")
  name      String @map("command_name")
  aliasesTo String @map("aliases_to")

  @@index([guildId])
  @@map("guild_commands")
}

model guildTags {
  model_id String @id @default(auto()) @map("_id") @db.ObjectId
  tagId    String @default(uuid()) @map("tag_id")

  @@map("guild_tags")
}
